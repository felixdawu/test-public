<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html"
      xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Invoice</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
</head>
<body>
<h1 style="text-align: center;">Commercial Invoice</h1>
<div class="address">
    <div style="clear: both;"></div>
    <ul style="width: 50%; float: left; list-style: none; padding-left: 0;">
        <li style="list-style: none; margin: 10px 15px 20px; padding: 5px;"><strong>Billing to: </strong>Broward Spine Institute</li>
        <li style="list-style: none; margin: 10px 15px; padding: 5px; border-bottom: 1px solid #8a8a8a;"><strong>Attn: </strong>Maria Leto</li>
        <li style="list-style: none; margin: 10px 15px; padding: 5px; border-bottom: 1px solid #8a8a8a;"><strong>Tel: </strong>9542722225</li>
        <li style="list-style: none; margin: 10px 15px; padding: 5px; border-bottom: 1px solid #8a8a8a;"><strong>Add: </strong>3702 Washington Street Suite 101 Hollywood FL 33021,United States</li>
    </ul>
    <ul style="width: 50%; float: right; list-style: none; padding-left: 0;">
        <li style="list-style: none; margin: 10px 15px 20px; padding: 5px;"><strong>Shipping to: </strong>Broward Spine Institute</li>
        <li style="list-style: none; margin: 10px 15px; padding: 5px; border-bottom: 1px solid #8a8a8a;"><strong>Attn: </strong>Maria Leto</li>
        <li style="list-style: none; margin: 10px 15px; padding: 5px; border-bottom: 1px solid #8a8a8a;"><strong>Tel: </strong>9542722225</li>
        <li style="list-style: none; margin: 10px 15px; padding: 5px; border-bottom: 1px solid #8a8a8a;"><strong>Add: </strong>3702 Washington Street Suite 101 Hollywood FL 33021,United States</li>
    </ul>
    <div style="clear: both;"></div>
</div>
<div class="order-info" style="margin: 0 20px;">
    <div style="clear: both;"></div>
    <div style="float: left;">
        <p><strong>Po No.: </strong>Order {{ order_name }}</p>
        <p><strong>Invoice No: </strong>Order #1075</p>
        <p><strong>Issue Date: </strong>{{ processed_at | date: "%b %d, %Y" }}</p>
        <p><strong>Shipping Date: </strong>{{ "now" | date: "%b %d, %Y" }}</p>
    </div>
    <div style="float: right;">
        <p><strong>Freight Term: </strong>FedEx Prepay</p>
        <p><strong>Payment Term: </strong>T/T in advance</p>
        <p><strong>FedEx.tracking#: </strong>{{ Order.successfulFulfillments }}</p>
        {% if transactions %}
            {% for attr in transactions %}
                {{ attr }}
            {% else %}
                {{ "空" }}
            {%endfor%}
        {%endif%}
        <div class="test" style="color: red"></div>
        <script type="text/javascript">
/*            $.post(
                // "https://pluscare-medical.myshopify.com/api/2021-10/graphql.json",
                // "https://47230517415.myshopify.com/api/2021-10/graphql.json",
                "https://pluscaremedical.com/api/2021-10/graphql.json",
                `{
                    products(first:5) {
                        edges {
                            node {
                                id
                            }
                        }
                    }
                }`,
                function (data) {
                    var str = JSON.stringify(data)
                    $(".test").html(str)
                    console.log(data);
                },
                "json"
            );
            //该种方式无法成功，返回403*/
/*            $.ajax({
                // url: "https://47230517415.myshopify.com/api/2021-10/graphql.json",
                url: "https://pluscaremedical.com/api/2021-10/graphql.json",
                type: "POST",
                data: `{ shop { name } }`,
                processData: false,
                headers: {
                    "Content-Type": "application/graphql",
                    "X-Shopify-Storefront-Access-Token": "9ec0d4d92b60f4ebcd8cd5f7eec5a77a"
                },
                success: function (data) {
                    console.log("成功：", data);
                },
                error: function (xhr) {
                    console.log("失败：", xhr);
                    alert("状态码：" + xhr.status);
                }
            });
            //该种方式可以成功！*/
/*            const query = `{ shop { name } }`;
            function apiCall(query) {
                return fetch('https://pluscaremedical.com/api/2021-10/graphql.json',
                    { method: 'POST',
                        headers: { 'Content-Type': 'application/graphql',
                            // "Access-Control-Origin": "*",
                            // "Access-Control-Allow-Origin": "*",
                            'X-Shopify-Storefront-Access-Token': "9ec0d4d92b60f4ebcd8cd5f7eec5a77a"
                        },
                        "body": query })
                    .then(response => response.json()) }
            apiCall(query).then(response => { console.log(response) });
            //该种方式可以成功！*/
            var mutation = `mutation customerAccessTokenCreate($input: CustomerAccessTokenCreateInput!) {
                            customerAccessTokenCreate(input: $input) {
                                customerUserErrors {
                                    code
                                    field
                                    message
                                }
                                customerAccessToken {
                                    accessToken
                                    expiresAt
                                }
                            }
                        }`
/*            var mutation = `mutation customerAccessTokenCreate {
                            customerAccessTokenCreate(input: {
                                email: "felix@unimed.cn",
                                password: "0.123456"
                              }) {
                                customerUserErrors {
                                    code
                                    field
                                    message
                                }
                                customerAccessToken {
                                    accessToken
                                    expiresAt
                                }
                            }
                        }`*/
/*            var variables = {
                              "input": {
                                "email": "felix@unimed.cn",
                                "password": "0.123456"
                              }
                            }*/
            var variables = {
                "input": {
                    email: "felix@unimed.cn",
                    password: "0.123456"
                }
            }
            $.ajax({
                // url: "https://pluscaremedical.com/api/2021-10/graphql.json",
                url: "https://pluscare-medical.myshopify.com/api/2021-10/graphql.json",
                type: "POST",
                // data: `query { shop { name }, variables {"id": "123"}`,
                // data: `query { customer(customerAccessToken:"ef7d05664e0ff6c27a68508d5ee6a36b") { displayName } }`,
                data: JSON.stringify({ mutation, variables }),
                // data: mutation,
                processData: false,
                headers: {
                    "Content-Type": "application/graphql",
                    "X-Shopify-Storefront-Access-Token": "9ec0d4d92b60f4ebcd8cd5f7eec5a77a"
                },
                success: function (res) {
                    console.log("成功：", res);
                },
                error: function (xhr) {
                    console.log("失败：", xhr);
                    alert("状态码：" + xhr.status);
                }
            });
        </script>
    </div>
    <div style="clear: both;"></div>
</div>
<div style="margin: 0 20px;">
    <table class="goods" style="margin: 0 auto; border: 2px solid; border-collapse: collapse;" >
        <colgroup>
            <col>
            <col span="2">
            <col span="3">
        </colgroup>
        <thead style="background-color: #888888;">
        <tr style="border-bottom: 2px solid;">
            <th style="border-right: 2px solid; padding: 10px; text-align: center;">Item</th>
            <th style="border-right: 2px solid; padding: 10px; text-align: center;">Part No.</th>
            <th style="border-right: 2px solid; padding: 10px; text-align: center;">Description</th>
            <th style="border-right: 2px solid; padding: 10px; text-align: center;">Qty</th>
            <th style="border-right: 2px solid; padding: 10px; text-align: center;">Price</th>
            <th style="padding: 10px; text-align: center;">Total in USD</th>
        </tr>
        </thead>
        <tbody>
        <tr style="border-bottom: 2px solid;">
            <td style="border-right: 2px solid; padding: 10px; text-align: center;">1</td>
            <td style="border-right: 2px solid; padding: 10px; text-align: center; white-space: nowrap;">PU410S-20</td>
            <td style="border-right: 2px solid; padding: 10px; text-align: left;">Philips Compatible Reusable SpO2 Sensor 10ft - Adult Soft</td>
            <td style="border-right: 2px solid; padding: 10px; text-align: center;">1</td>
            <td style="border-right: 2px solid; padding: 10px; text-align: center;">111.00</td>
            <td style="padding: 10px; text-align: center;">111.00</td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
            <td style="border-right: 2px solid; padding: 10px; text-align: left;"></td>
            <td style="border-right: 2px solid; padding: 10px; text-align: left;"></td>
            <td style="border-right: 2px solid; padding: 10px; text-align: left;">Total in USD</td>
            <td style="border-right: 2px solid; padding: 10px; text-align: center;">1</td>
            <td style="border-right: 2px solid; padding: 10px; text-align: left;"></td>
            <td style="padding: 10px; text-align: center;">111.00</td>
        </tr>
        </tfoot>
    </table>
</div>

<div class="auth-info" style="margin: 40px 20px 0; clear: both;">
    <p><span>510K Number: </span></p>
    <p><span>Owner Operator Number: </span></p>
    <p><span>Device Listing Number: </span></p>
    <p><span>Product Code: </span></p>
    <p><span>Establishment Registration Number: </span></p>
</div>

<hr>



<div class="ui-annotated-section"><div class="ui-annotated-section__annotation"><div class="ui-annotated-section__title"><h2 class="ui-heading">General variables</h2></div><div class="ui-annotated-section__description"><p>All of the general variables related to the order.</p></div></div><div class="ui-annotated-section__content">
    <div class="variable-reference-table">
        <table>
            <thead>
            <tr>
                <th>Variable description</th>
                <th>Variable name</th>
            </tr>
            </thead>

            <tbody>
            <tr>
                <td>Shop name</td>
                <td><pre>{{ shop_name }}</pre></td>
            </tr>
            <tr>
                <td>Order number</td>
                <td><pre>{{ order_number }}</pre></td>
            </tr>
            <tr>
                <td>Order name <span class="note">(with # before number)</span></td>
                <td><pre>{{ order_name }} or {{ name }}</pre></td>
            </tr>
            <tr>
                <td>Date</td>
                <td><pre>{{ date }} or {{ created_at }}</pre></td>
            </tr>
            <tr>
                <td>Processed date</td>
                <td><pre>{{ processed_at }}</pre></td>
            </tr>
            <tr>
                <td>Billing address</td>
                <td><pre>{{ billing_address | format_address }}</pre></td>
            </tr>
            <tr>
                <td>Shipping address</td>
                <td><pre>{{ shipping_address | format_address }}</pre></td>
            </tr>
            <tr>
                <td>Shipping methods <span class="note">(collection of shipping lines)</span></td>
                <td><pre>{{ shipping_methods }} or {{ shipping_lines }}</pre></td>
            </tr>
            <tr>
                <td>Shipping method</td>
                <td><pre>{{ shipping_method.title }} or {{ shipping_line.title }}</pre></td>
            </tr>
            <tr>
                <td>Customer</td>
                <td><pre>{{ customer }}</pre></td>
            </tr>
            <tr>
                <td>Email</td>
                <td><pre>{{ email }}</pre></td>
            </tr>
            <tr>
                <td>Financial status</td>
                <td><pre>{{ financial_status }}</pre></td>
            </tr>
            <tr>
                <td>Fulfillment status</td>
                <td><pre>{{ fulfillment_status }}</pre></td>
            </tr>
            <tr>
                <td>Fulfillment service</td>
                <td><pre>{{ fulfillment_service }}</pre>
                </td></tr><tr>
                <td>Discounts amount <span class="note">(collection of discount amounts)</span></td>
                <td><pre>{{ discounts_amount }}</pre></td>
            </tr>
            <tr>
                <td>Discounts savings <span class="note">(collection of discount savings)</span></td>
                <td><pre>{{ discounts_savings }}</pre></td>
            </tr>
            <tr>
                <td>Payment gateways</td>
                <td><pre>{{ gateways }}</pre></td>
            </tr>
            <tr>
                <td>Payment gateway</td>
                <td><pre>{{ gateway }}</pre></td>
            </tr>
            <tr>
            </tr><tr>
                <td>Order Currency <span class="note">(currency code of order)</span></td>
                <td><pre>{{ order_currency }} or {{ currency }}</pre></td>
            </tr>
            <tr>
                <td>Subtotal price</td>
                <td><pre>{{ subtotal_price | money }}</pre></td>
            </tr>
            <tr>
                <td>Shipping price</td>
                <td><pre>{{ shipping_price | money }}</pre></td>
            </tr>
            <tr>
                <td>Total discounts</td>
                <td><pre>{{ total_discounts | money }}</pre></td>
            </tr>
            <tr>
                <td>Total tax</td>
                <td><pre>{{ total_tax | money }} or {{ tax_price | money }}</pre></td>
            </tr>
            <tr>
                <td>Total price</td>
                <td><pre>{{ total_price | money }}</pre></td>
            </tr>
            <tr>
                <td>Total paid</td>
                <td><pre>{{ total_paid | money }}</pre></td>
            </tr>
            <tr>
                <td>Transactions</td>
                <td><pre>{{ transactions }}</pre></td>
            </tr>
            <tr>
                <td>Order attributes</td>
                <td><pre>{{ attributes }}</pre></td>
            </tr>
            <tr>
                <td>Order note</td>
                <td><pre>{{ note }}</pre></td>
            </tr>
            </tbody>
        </table>
    </div>
</div></div>
</body>
</html>